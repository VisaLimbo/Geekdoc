---
author: "parthkhare"
date: 2022-07-15T21:13:14-05:00
show_social_links: true # specify social accounts in site config
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(collapse = TRUE)
library(data.table);library(readxl);library(ggplot2); library(countrycode)
scpdt_base <- read.csv('/Users/moonlight/Documents/Moonlight Projects/2022/Visa Limbo/Data/Scraped_CleanData/visascraped_25July.csv')
```
![](https://i.ibb.co/4J4nv22/Dali-4.png){width=100%}

#July 15th, 2022
July 25th, 2022

```{r, echo=F}
vismn <- function() {
  cat(round(mean(scpdt_base$VisitorVisa, na.rm=T),0))
}
stumn <- function() {
  cat(round(mean(scpdt_base$Student_ExchangeVisitorVisas, na.rm=T),0))
}
nonmn <- function() {
  cat(round(mean(scpdt_base$AllOtherNonimmigrantVisas, na.rm=T),0))
}
```




#### Visitor Visa
Average Wait: 
```{r  echo=F, results = "asis"}
vismn()
```
days 

Longest Waits
```{r, echo=FALSE, warning=FALSE, message=F}
# Scraped Data Stats
# --------------
# scpdt_base <- read.csv('/Users/moonlight/Documents/Moonlight Projects/2022/Visa Limbo/Data/Scraped_CleanData/visascraped_base_14July.csv')
scpdt_base <- read.csv('/Users/moonlight/Documents/Moonlight Projects/2022/Visa Limbo/Data/Scraped_CleanData/visascraped_25July.csv')

scpdt_base$X <- NULL
scpdt_base <- data.table(scpdt_base)

# ----------------------------------------
# Charts for all visa types separately
# ----------------------------------------
# Visitor Visa more than one year
ggplot(scpdt_base[scpdt_base$VisitorVisa>400,], aes(y=reorder(Embassy,VisitorVisa), 
                                                  x=VisitorVisa)) +
  geom_bar(fill='red',stat='identity') +  
  theme_minimal() + xlab('days') +
  theme(axis.text=element_text(size=rel(0.7)),
        axis.title.y = element_blank())

```
[Source-State Department](https://travel.state.gov/content/travel/en/us-visas/visa-information-resources/wait-times.html){target="_blank"}
\
\
\




#### Student/Exchange Visitor Visas
Average Wait: 
```{r  echo=F, results = "asis"}
stumn()
```
 days

Longest Waits
```{r scpdt_base, echo=FALSE, warning=FALSE, message=F}

# Charts for all visa types separately
# ----------------------------------------
# Visitor Visa more than one year
ggplot(scpdt_base[scpdt_base$Student_ExchangeVisitorVisas>60,], aes(y=reorder(Embassy,Student_ExchangeVisitorVisas), 
                                                  x=Student_ExchangeVisitorVisas)) +
  geom_bar(fill='darkgreen',stat='identity') +   
  theme_minimal() + ylab('') + xlab('days') +
  theme(axis.text=element_text(size=rel(0.7)),
        axis.title.y = element_blank())
```
[Source-State Department](https://travel.state.gov/content/travel/en/us-visas/visa-information-resources/wait-times.html){target="_blank"}
\
\
\





#### All Other Non-immigrant Visas
Average Wait: 
```{r  echo=F, results = "asis"}
nonmn()
```
days

Longest Waits
```{r, echo=FALSE, warning=FALSE, message=F}
# ----------------------------------------
# Charts for all visa types separately
# ----------------------------------------
# Visitor Visa more than one year
ggplot(scpdt_base[scpdt_base$AllOtherNonimmigrantVisas>100,], aes(y=reorder(Embassy,AllOtherNonimmigrantVisas), 
                                                  x=AllOtherNonimmigrantVisas)) +
  geom_bar(fill='darkblue',stat='identity') +   
  theme_minimal() + ylab('') + xlab('days') +
  theme(axis.text=element_text(size=rel(0.7)),
        axis.title.y = element_blank())
```
[Source-State Department](https://travel.state.gov/content/travel/en/us-visas/visa-information-resources/wait-times.html){target="_blank"}
\
\
\



Questions?\
Contact: visalimbo@gmail.com\
[Twitter](https://twitter.com/VisaLimbo){target="_blank"}



